<div>
<i title="Plain Text Email" class="icon-subscription-text" ng-if="!mailStyle.mail_logo_url && !htmlMode"></i>
<i title="Custom Logo and Colors" class="icon-subscription-layout" ng-if="mailStyle.mail_logo_url && !htmlMode"></i>
<i title="Custom Html" class="icon-subscription-html" ng-if="htmlMode"></i>
<fieldset>
	<div class="row-fluid form-inline form-row">
		<div class="span2">
			<label>{{'from' | i18n }}</label>
		</div>
		<div class="span10">
			<div addsender selectedsender="sender" senders="senders.list" sender-options="senders.options"></div>
		</div>
	</div>
	<div class="row-fluid form-inline form-row">
		<div class="span2">
			<label>{{'subject' | i18n }}</label>
		</div>
		<div class="span10">
			<input ng-model="subject" type="text" placeholder="Please confirm you subscription" class="span12">
		</div>
	</div>
	<div class="row-fluid show-grid form-row">
		<label class="span2" ng-if="!htmlMode">{{'content' | i18n }}</label>
    <label class="span2" ng-if="htmlMode">{{'html' | i18n }}</label>
		<div class="span10">
			<textarea ng-model="body" class="span12" rows="10">
			</textarea>
		</div>
	</div>
    
    <div id="fileuploadbeta">
	<div class="span10 offset2">
	<label ng-hide="mailStyle.mail_logo_url || htmlMode" for="fileToUpload">you can optionally upload your logo
		<a class="btn btn-modify btn-halfheight" id="addButton"> {{'choose_file' | i18n}} </a>
		<div id="upload-wrap"><input id="fileUpload" type="file" name="files[]" data-url="/"  multiple></div>
	    <div ng-repeat="file in fileList" class="save-or-cancel">
             <strong>{{file.name}}</strong>
           
            <a ng-if="filedata.file" class="btn btn-confirm" ng-click="submitUpload()">Import</a>
	    </div>
    </label>

    <div class="alert alert-info main-alert clearboth" ng-hide="mailStyle.mail_logo_url || htmlMode">
      <p>If you add your brand logo, our system will automatically format the email with a predefined template to fit it into.<br>
        You will be also able to modify the layout colors.</p>
    </div>
              </div>
    </div>
    
    <div ng-show="htmlMode">
      <label class="span8">you can switch to plain text by <a class="btn btn-halfheight btn-function" ng-click="stripHtml()">stripping html tags</a> or <a class="btn btn-halfheight btn-function" ng-click="loadDefaultTexts()">loading a default message</a></label>
      <div class="hidden-phone pull-right">
        <button class="btn btn-function btn-halfheight" email-preview show-preview-method="showPreview()"> <i class="fa-lg fa-eye"></i>Preview</button>
      </div>
    </div>
    <div ng-show="mailStyle.mail_logo_url">
    	<label>Customize Mail Style</label>
    	<div class="row-fluid">
        <div class="editor-form subscription-layout">
            <div class="span9" style="overflow-x: hidden; overflow-y: hidden; -webkit-overflow-scrolling:touch; height: 600px; border: 1px solid #e0e0e0;">
             
                <iframe id="templateEmailPreview" style="margin:0; padding:0; border: 1px solid #ddd; width: 100%; height: 100%; border: none; vertical-align: top;" frameBorder="0" height="600"></iframe>
            </div>
            <div class="span3 pull-right">
              <div class="span12">
              <div class="thumbnail">
              <img ng-src="{{mailStyle.mail_logo_url}}">
              <br />
              <div class="btn-group" style="border: 1px solid #e0e0e0;">
                  <button class="btn btn-halfheight" ng-class="{'btn-function' : mailStyle.mail_logo_position=='left'}" ng-click="mailStyle.mail_logo_position='left'">left</button>
                  <button class="btn btn-halfheight" ng-class="{'btn-function' : mailStyle.mail_logo_position=='center'}" ng-click="mailStyle.mail_logo_position='center'">center</button>
                  <button class="btn btn-halfheight" ng-class="{'btn-function' : mailStyle.mail_logo_position=='right'}" ng-click="mailStyle.mail_logo_position='right'">right</button>
              </div>
              </div>
                <label>Default style</label>
                <select ng-model="mailStyle.mail_font" ng-options="f.id as f.name for f in fonts" class="span12"></select>
                <select ng-model="mailStyle.mail_font_size" ng-options="n for n in [] | range:8:48" class="span12"></select>
              </div>
              <div class="color-settings">
                <div class="color">
                  <div>
                    <div colorpicker ng-model="mailStyle.mail_background_color" ng-style="{'background-color':mailStyle.mail_background_color}"></div>
                    <input type="text" ng-model="mailStyle.mail_background_color"/>
                  </div>
                  <div>
                    <div colorpicker ng-model="mailStyle.mail_link_color" ng-style="{'background-color':mailStyle.mail_link_color}"></div>
                    <input type="text" ng-model="mailStyle.mail_link_color"/>
                  </div>
                </div>
                <div class="color">
                  <div>
                    <div colorpicker ng-model="mailStyle.mail_button_color" ng-style="{'background-color':mailStyle.mail_button_color}"></div>
                    <input type="text" ng-model="mailStyle.mail_button_color"/>
                  </div>
                  <div>
                    <div colorpicker ng-model="mailStyle.mail_text_color" ng-style="{'background-color':mailStyle.mail_text_color}"></div>
                    <input type="text" ng-model="mailStyle.mail_text_color"/>
                  </div>
                </div>
              </div>
              <b class="clearfix"></b></div>
            <b class="clearfix"></b> 
		</div>
      </div>
      <br>
      <label>you can switch to plain text by <a class="btn btn-halfheight btn-function" ng-click="removeLogo()">removing your logo</a></label>
    </div>
</fieldset>
</div>